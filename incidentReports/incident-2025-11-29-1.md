# Incident: 2025-11-29 10-47-00

## Summary

Between the hour of 10:47 to 11:58 on November 9th 2025, Many users encountered errors buying pizza. The event was triggered by a sudden drop of successful bought pizzas at around 12:00. The sudden drop of successful pizzas bought contained many 500 errors requesting to buy pizza.

A bug in this code caused many users unavailable to buy pizzas. The event was detected by the Pizza Purchases visualization in Grafana. The team started working on the event by immediately looking into the logs of the requests. This severe incident affected 100% of users.


## Detection

The error was detected by constantly monitoring the grafana metric visuals and discovering the trend of failed pizza orders. There was no alarm triggered because the alarm was set to if the rate of pizza failures was over 100. We have improved this by monitoring if the number of pizzas sold is less that 1 per minute.

## Impact

For about 1 hour between 10:47 UTC and 11:58 UTC on 11/29/2025, All of our users experienced this incident.
This incident affected 100% customers, who experienced failures to order pizza.

## Timeline

- 10:47 - Incident began
- 11:38 - Incident discoved by employee
- 11:40 - Alarm adjusted to be triggered
- 11:57 - Discovered message in logs and disabled chaos attacker

## Response

I came online at 10:37 UTC and discovered the incident at 11:38 UTC. I investigated the issue and adjusted the alarm between that time and finished fixing the issue by 11:57 UTC. Had the alarm been set to a more convinient variable, the issue would've been solved quicker.

## Root cause

The chaos attacker was turned on the day before and triggered at 10:47 to attack the pizza orders.

## Resolution

The issue was fixed after discovering the link in the pizza order logs to disable to chaos attacker. Time to solve this issue can be reduced in the future now with the correct adjusted alarm variable.

## Prevention

We can solve this issue to any other cases by going back and adjusting to alarms to each metric to what seems fit.

## Action items

- Adjust alarms to metrics
- Test to see alarms work to my phone
